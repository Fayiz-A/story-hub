(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{213:function(t,e,n){"use strict";n.d(e,"a",(function(){return mt}));var r=n(9),o=n.n(r),i=n(10),a=n.n(i),s=n(11),c=n.n(s),l=n(12),u=n.n(l),h=n(3),f=n.n(h),d=n(0),p=n.n(d),m=n(287),y=n(157),g=n(138),v=n(20),S=n(31),b=n.n(S),w=n(7),T=n(8),x=n(153),E=n(18),C=n(203),R=n(37);function k(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f()(t);if(e){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var I=function(t){c()(n,t);var e=k(n);function n(t){return o()(this,n),e.call(this,t)}return a()(n,[{key:"render",value:function(){return d.createElement(w.a,{style:D.container},d.createElement(R.a,{style:D.textStyle},this.props.title))}}]),n}(d.Component),D=T.a.create({textStyle:{fontSize:20,fontWeight:"bold"},container:{shadowColor:"black",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2,elevation:2,alignItems:"center",justifyContent:"center",height:60,backgroundColor:"cyan"}}),L=I,W=n(45);function M(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f()(t);if(e){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var P=function(t){c()(n,t);var e=M(n);function n(t,r){var i;return o()(this,n),(i=e.call(this,t,r)).state={dimensions:v.a.get("window")},i}return a()(n,[{key:"componentDidMount",value:function(){var t=this;v.a.addEventListener("change",(function(e){var n=e.window;e.screen;t.setState({dimensions:n})}))}},{key:"componentWillUnmount",value:function(){v.a.removeEventListener("change",(function(t){t.window,t.screen;console.log("Event listener for dimensions removed in text field.tsx")}))}},{key:"render",value:function(){return p.a.createElement(W.a,{style:B(this.props,this.state.dimensions).textField,placeholder:this.props.placeholder,onChangeText:this.props.onChangeText,multiline:this.props.multiline,ref:this.props.reference})}}]),n}(p.a.Component);P.defaultProps={borders:2};var B=function(t,e){return T.a.create({textField:{width:t.textInputWidth,height:t.textInputHeight,borderColor:"black",borderWidth:4,borderTopStartRadius:t.multiline?20:1==t.borders?t.textInputWidth:t.textInputWidth/2/2,borderBottomStartRadius:t.multiline?20:1==t.borders?t.textInputWidth:t.textInputWidth/2/2,borderRadius:t.multiline?20:1==t.borders?0:t.textInputWidth/2/2,backgroundColor:"white",paddingLeft:5,fontSize:e.height/30}})},F=n(108);function z(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f()(t);if(e){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var A=function(t){c()(n,t);var e=z(n);function n(t){return o()(this,n),e.call(this,t)}return a()(n,[{key:"render",value:function(){return p.a.createElement(w.a,{style:O(this.props).buttonSurrounding},p.a.createElement(F.a,{style:O(this.props).button,onPress:this.props.onPress},p.a.createElement(R.a,{style:O(this.props).textStyle},this.props.title)))}}]),n}(d.Component),O=function(t){return T.a.create({button:{backgroundColor:t.color,justifyContent:"center",alignItems:"center",width:t.width,height:55,borderRadius:28},buttonSurrounding:{paddingTop:t.paddingTop,paddingLeft:t.paddingLeft},textStyle:{fontSize:20,color:"white",fontFamily:"cursive",fontWeight:"bold"}})},N=n(159);N.a.initializeApp({apiKey:"AIzaSyAvScS_wuEMwsA33Ob0w4TNCq6hIQi8sXM",authDomain:"story-hub-cb066.firebaseapp.com",projectId:"story-hub-cb066",storageBucket:"story-hub-cb066.appspot.com",messagingSenderId:"758016327958",appId:"1:758016327958:web:f324bfcceb0e6a0ff09037"});var U=N.a,j="Read Story",H="Write Story",V={collections:{names:{stories:"stories"},documents:{fields:{names:{title:"title",author:"author",story:"story"}}}}},J="Your story has been submitted successfully!",q={authorNameMinimumLength:2,titleMinimumLength:2,storyMinimumLength:50,errorMessages:{authorNameTooShort:"I have never heard an author name so short like this! \ud83e\udd14 According to me, a name should atleast be of 2 letters.",storyTooShort:"The story content is too short. The readers may not read such a short story! According to my experience, it should be of 50 words atleast.",titleTooShort:"The title is too short! It should be descriptive and of atleast 2 letters."}},G={unknownError:"Some error occured!"},K={styles:{font:{size:20,family:"cursive"}}};function Q(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f()(t);if(e){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var X=function(t){c()(n,t);var e=Q(n);function n(t,r){var i;return o()(this,n),(i=e.call(this,t,r)).validateAndSubmitStory=function(t){var e,n,r,o,a;return b.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(n=(e=q).errorMessages,r=e.authorNameMinimumLength,o=e.titleMinimumLength,a=e.storyMinimumLength,console.log("Story Written "+JSON.stringify(t)),!(t.author.trim().length<r)){s.next=11;break}return i.showToastMessagesToUser(n.authorNameTooShort),s.abrupt("return",!1);case 11:if(!(t.title.trim().length<o)){s.next=16;break}return i.showToastMessagesToUser(n.titleTooShort),s.abrupt("return",!1);case 16:if(!(t.story.trim().length<a)){s.next=19;break}return i.showToastMessagesToUser(n.storyTooShort),s.abrupt("return",!1);case 19:return U.firestore().collection(V.collections.names.stories).add({title:t.title,author:t.author,story:t.story}).catch((function(t){return console.error("Error occured while submitting the story: "+t),i.showToastMessagesToUser(G.unknownError),!1})),i.setState({}),i.showToastMessagesToUser(J),s.abrupt("return",!0);case 23:case"end":return s.stop()}}),null,null,null,Promise)},i.clearInputs=function(t){t.map((function(t){null!=t&&t.clear()}))},i.state={dimensions:v.a.get("window")},i}return a()(n,[{key:"componentDidMount",value:function(){var t=this;v.a.addEventListener("change",(function(e){var n=e.window;e.screen;t.setState({dimensions:n})}))}},{key:"componentWillUnmount",value:function(){v.a.removeEventListener("change",(function(t){t.window,t.screen;console.log("Event listener for dimensions removed in WriteStoryScreen.tsx")}))}},{key:"showToastMessagesToUser",value:function(t){"android"==E.a.OS?x.a.show(t,x.a.LONG):alert(t)}},{key:"render",value:function(){var t=this,e={title:"",author:"",story:""},n=this.state.dimensions,r={width:n.width/2,height:n.height/13},o=[{height:r.height,placeholder:"Title",onChangeText:function(t){e.title=t}},{height:r.height,placeholder:"Author",onChangeText:function(t){e.author=t}},{height:n.height/2.15,placeholder:"Story",onChangeText:function(t){e.story=t},multiline:!0}],i=[];return p.a.createElement(C.a,{style:_(n).background,behavior:"padding",enabled:!0},p.a.createElement(L,{title:"Write Story"}),o.map((function(t){return p.a.createElement(w.a,{style:Y(n,r).storyTextField},p.a.createElement(P,{textInputWidth:r.width,textInputHeight:t.height,placeholder:t.placeholder,onChangeText:t.onChangeText,multiline:null!=t.multiline&&t.multiline,reference:function(t){i.push(t)}}))})),p.a.createElement(A,{onPress:function(){return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.awrap(t.validateAndSubmitStory(e));case 2:1==n.sent&&t.clearInputs(i);case 4:case"end":return n.stop()}}),null,null,null,Promise)},title:"Submit",color:"red",paddingTop:20,paddingLeft:n.width/2-60,width:120}))}}]),n}(p.a.Component),Y=function(t,e){return T.a.create({storyTextField:{paddingLeft:t.width/2-e.width/2,paddingTop:e.height/2}})},_=function(t){return T.a.create({background:{height:t.height,backgroundColor:"#ffe57f"}})},Z=n(23),$=n.n(Z),tt=n(69),et=n(205),nt=n(49);function rt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f()(t);if(e){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var ot=function(t){c()(n,t);var e=rt(n);function n(t,r){var i;return o()(this,n),(i=e.call(this,t,r)).getAllStoriesFromFirestore=function(){var t,e;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return 10,t=i.state.lastVisibleStory,e=null==t?U.firestore().collection(V.collections.names.stories).orderBy(V.collections.documents.fields.names.title).limit(10):U.firestore().collection(V.collections.names.stories).orderBy(V.collections.documents.fields.names.title).startAfter(t.title).limit(10),n.next=5,b.a.awrap(e.get().then((function(t){var e=[];t.docs.map((function(t){e.push({author:t.data().author,title:t.data().title,story:t.data().story})})),e=[].concat($()(i.state.stories),$()(e));var n=null==i.state.stories[i.state.stories.length-1]?e[e.length-1]:i.state.stories[i.state.stories.length-1];i.setState({stories:e,displayStories:e,lastVisibleStory:n})})).catch((function(t){console.error("Error occurred in fetching stories "+t)})));case 5:case"end":return n.stop()}}),null,null,null,Promise)},i.searchForStories=function(t){var e;return b.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=[],0!=t.trim().length){n.next=5;break}e=i.state.stories,n.next=7;break;case 5:return n.next=7,b.a.awrap(U.firestore().collection(V.collections.names.stories).where(V.collections.documents.fields.names.title,"==",t.trim()).get().then((function(t){t.docs.map((function(t){return e.push({author:t.data().author,title:t.data().title,story:t.data().story})}))})).catch((function(t){console.error("Error occurred in querying stories "+t),alert("Some error occurred!")})));case 7:i.setState({displayStories:e,searchText:t});case 8:case"end":return n.stop()}}),null,null,null,Promise)},i.state={dimensions:v.a.get("window"),stories:[],displayStories:[],lastVisibleStory:null,searchText:""},i}return a()(n,[{key:"componentDidMount",value:function(){var t=this;v.a.addEventListener("change",(function(e){var n=e.window;e.screen;t.setState({dimensions:n})})),this.getAllStoriesFromFirestore()}},{key:"componentWillUnmount",value:function(){v.a.removeEventListener("change",(function(t){t.window,t.screen;console.log("Event listener for dimensions removed in WriteStoryScreen.tsx")}))}},{key:"render",value:function(){var t=this,e=this.state.dimensions,n=this.state.searchText;return p.a.createElement(nt.a,null,p.a.createElement(w.a,{style:at(e).background},p.a.createElement(L,{title:"Read Story"}),p.a.createElement(w.a,{style:at(e).storySearchBarContainer},p.a.createElement(P,{textInputWidth:e.width/2,textInputHeight:e.height/13,onChangeText:function(t){n=t},placeholder:"Search for a story",multiline:!1,borders:1}),p.a.createElement(F.a,{onPress:function(){t.searchForStories(n)},style:at(e).searchStoryButton},p.a.createElement(R.a,{style:at(e).searchStoryButtonText},"Search"))),0==this.state.stories.length?p.a.createElement(w.a,{style:at(e).activityIndicatorContainer},p.a.createElement(et.a,{animating:!0,color:"purple",size:e.height/3})):0==this.state.displayStories.length?p.a.createElement(w.a,{style:at(e).noStoriesFoundContainer},p.a.createElement(R.a,{style:at(e).listTileTextTitle},"No Stories Found")):p.a.createElement(tt.a,{contentContainerStyle:{paddingBottom:100},data:this.state.displayStories,renderItem:function(n){var r=n.index;return p.a.createElement(it,{storyData:t.state.displayStories[r],dimensions:e,props:t.props})},keyExtractor:function(t,e){return e.toString()},onEndReachedThreshold:100,onEndReached:function(){return 0==n.trim().length?t.getAllStoriesFromFirestore():console.log("No need to fetch!")}})))}}]),n}(p.a.Component),it=function(t){for(var e=t.storyData,n=t.dimensions,r=t.props,o=at(n),i="BCDEF".split(""),a="#",s=0;s<6;s++)a+=i[Math.floor(Math.random()*i.length)];console.log("Color: "+a);var c={backgroundColor:""+a,marginTop:15,marginHorizontal:10,shadowColor:"black",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:2,elevation:2,paddingLeft:10,borderRadius:10};return p.a.createElement(F.a,{onPress:function(){r.navigation.navigate({routeName:"StoryContentScreen",params:{story:e}})}},p.a.createElement(w.a,{style:c},p.a.createElement(w.a,{style:o.listTileTextContainer},p.a.createElement(R.a,{style:o.listTileTextTitle},"Title: "),p.a.createElement(R.a,{style:o.listTileText},e.title)),p.a.createElement(w.a,null,p.a.createElement(w.a,{style:o.listTileTextContainer},p.a.createElement(R.a,{style:o.listTileTextTitle},"Author: "),p.a.createElement(R.a,{style:o.listTileText},e.author)))))},at=function(t){return T.a.create({background:{height:t.height,backgroundColor:"#ffe57f"},storySearchBarContainer:{flexDirection:"row",paddingTop:20,paddingLeft:t.width/2-(t.width/2/2+50)},searchStoryButton:{backgroundColor:"rgb(234, 111, 123)",justifyContent:"center",alignItems:"center",borderTopEndRadius:200,borderBottomEndRadius:200,paddingHorizontal:10,borderColor:"black",borderTopWidth:4,borderBottomWidth:4,borderEndWidth:4},searchStoryButtonText:{fontSize:t.height/30,color:"white"},noStoriesFoundContainer:{paddingLeft:20,paddingTop:20},listTileTextContainer:{flexDirection:"row",paddingVertical:2},listTileTextTitle:{fontWeight:"600",fontSize:K.styles.font.size},listTileText:{fontSize:K.styles.font.size},activityIndicatorContainer:{paddingTop:t.height/2-t.height/3/2}})},st=n(187);function ct(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f()(t);if(e){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var lt=Object(m.a)(),ut=function(t){c()(r,t);var e=ct(r);function r(t){return o()(this,r),e.call(this,t)}return a()(r,[{key:"render",value:function(){var t=this;return p.a.createElement(st.a,null,p.a.createElement(lt.Navigator,{screenOptions:function(t){var e=t.route;return{tabBarIcon:function(t){var r;t.focused,t.color,t.size;r=e.name==j?n(258):n(259);var o=v.a.get("window").width>700?40:30;return p.a.createElement(g.a,{source:r,style:{width:o,height:o}})}}},tabBarOptions:{activeTintColor:"tomato",inactiveTintColor:"gray"}},p.a.createElement(lt.Screen,{name:j,children:function(){return p.a.createElement(ot,{navigation:t.props.navigation})}}),p.a.createElement(lt.Screen,{name:H,component:X})))}}]),r}(p.a.Component);function ht(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f()(t);if(e){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var ft=function(t){c()(n,t);var e=ht(n);function n(t,r){var i;return o()(this,n),(i=e.call(this,t,r)).state={dimensions:v.a.get("window")},i}return a()(n,[{key:"componentDidMount",value:function(){var t=this;v.a.addEventListener("change",(function(e){var n=e.window;e.screen;t.setState({dimensions:n})}))}},{key:"componentWillUnmount",value:function(){v.a.removeEventListener("change",(function(t){t.window,t.screen;console.log("Event listener for dimensions removed in WriteStoryScreen.tsx")}))}},{key:"render",value:function(){var t=this,e=this.state.dimensions,n=this.props.navigation.getParam("story");return p.a.createElement(w.a,{style:dt(e).background},p.a.createElement(nt.a,null,p.a.createElement(w.a,{style:dt(e).background},p.a.createElement(L,{title:n.title}),p.a.createElement(A,{title:"Back",onPress:function(){t.props.navigation.navigate({routeName:"PlatformScreen"})},color:"red",paddingLeft:20,paddingTop:10,width:70}),p.a.createElement(w.a,{style:dt(e).storyContentContainer},p.a.createElement(R.a,{style:dt(e).storyContent},n.story)))))}}]),n}(p.a.Component),dt=function(t){return T.a.create({background:{height:t.height,backgroundColor:"#ffe57f"},storyContentContainer:{paddingLeft:20,paddingTop:10},storyContent:{fontSize:t.height/30}})};function pt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f()(t);if(e){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}Object(m.a)();var mt=function(t){c()(n,t);var e=pt(n);function n(){return o()(this,n),e.apply(this,arguments)}return a()(n,[{key:"render",value:function(){return p.a.createElement(gt,null)}}]),n}(p.a.Component),yt=Object(y.createSwitchNavigator)({PlatformScreen:{screen:ut},StoryContentScreen:{screen:ft}}),gt=Object(y.createAppContainer)(yt)},220:function(t,e,n){t.exports=n(280)},258:function(t,e,n){t.exports=n.p+"static/media/read.bab2041c.png"},259:function(t,e,n){t.exports=n.p+"static/media/write.85de73b4.png"}},[[220,1,2]]]);
//# sourceMappingURL=app.bc4d76ac.chunk.js.map